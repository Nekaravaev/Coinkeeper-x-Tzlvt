# Coinkeeper x Тяжеловато

Мне понравилась идея [приложения Tzlvt](https://www.fuckgrechka.ru/tzlvt/), которое рассчитывает траты на день, исходя из общего бюджета на месяц. 

Но так как порой хочется вести учёт финансов подробнее, легче интегрировать идею в текущий стек.

Устанавливаем бюджет -> берём транзакции из коинкипера с суммой всех трат за текущий период (месяц) -> рассчитываем сколько осталось на сегодня.
На выходе считается два числа:

* Сколько было выделено на сегодня;
* Сколько осталось денег на день.

Пример использования:

```php
<?php
require 'vendor/autoload.php';

use Nekaravaev\Coinkeeper\Coinkeeper;

echo (new Coinkeeper(
    ['user_id' => '',
     'budget' => 1200,
     'cookies' => '_SCREEN_RESOLUTION=1680x1027;']
))->calculate();

//Сегодняшняя сумма без учета существующих транзакций:: -55.35; Доступно для траты сейчас: -85.3
```

Данные о user_id и cookies легче всего взять из веб-версии коинкипера, отследив запросы удобным способом.

### Пример использования с телеграмом

В папке `/src/Telegram` есть пример команды отправки балансов с помощью библиотеки [irazasyed/telegram-bot-sdk](https://github.com/irazasyed/telegram-bot-sdk).

Благодарность:
* За вдохновение [Вадиму Юмадилову](https://www.fuckgrechka.ru/tzlvt/)
* За подсмотренный алгоритм [Igor Ramazanov](https://github.com/igor-ramazanov/coinkeeper-helper)
